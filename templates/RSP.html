<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°€ìœ„ ë°”ìœ„ ë³´ ê²Œì„!</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        .title {
            text-align: center;
            color: red;
        }

        .submit {
            background-color: aqua;
            border-color: white;
            height: 30px;
            width: 120px;
        }

        #select {
            width: 60%;
            margin-left: 20%;
            margin-top: 20px;
        }

        .result {
            display: flex;
            text-align: center;
            align-items: center;
            background-color: bisque;
            margin-top: 20px;
            margin-left: 30%;
            width: 40%;
            height: 80px;
            flex-direction: column;
            justify-content: center;
        }
        .table{
            width: 70%;
            margin-top: 40px;
            text-align: center;
            margin-left: 15%;
            margin-right: 15%;
        }
        .record_btn{
            margin-top: 10px;
            width : 10%;
            height: 60px;
            font-weight: bold;
            font-size: 20;
        }
        #left_button{
            margin-left: 35%;
        }
        #right_button{
            margin-right: 35%;
        }
        .mybutton{
            margin-top: 15px;
            width: 8%;
            margin-left: 1%;
            margin-right: 1%;
        }
    </style>
</head>

<body>
    <form class="title" action="{{url_for('RS')}}" method="get" id="gameForm">
        <h1>ê°€ìœ„ ë°”ìœ„ ë³´ ê²Œì„!</h1>
        <select class="form-select form-select-lg mb-3" aria-label="Large select example" name="user_index" id="select">
            <option value="0">âœŒï¸</option>
            <option value="1">ğŸ‘Š</option>
            <option value="2">âœ‹</option>
        </select>
        <button type="submit" class="btn btn-primary submit">ì œì¶œí•˜ê¸°</button>
    </form>
    <div class="result">
        ìœ ì € :
        {% if data[-1].user_result=="ê°€ìœ„" %}
        âœŒï¸
        {% elif data[-1].user_result=="ë°”ìœ„" %}
        ğŸ‘Š
        {% elif data[-1].user_result=="ë³´" %}
        âœ‹
        {% endif %}
        / ì»´í“¨í„° :
        {% if data[-1].computer_result=="ê°€ìœ„" %}
        âœŒï¸
        {% elif data[-1].computer_result=="ë°”ìœ„" %}
        ğŸ‘Š
        {% elif data[-1].computer_result=="ë³´" %}
        âœ‹
        {% endif %}
        /
        {% if data[-1].result=="ìŠ¹" %}
        ì´ê²¼ìŠµë‹ˆë‹¤!
        {% elif data[-1].result=="íŒ¨" %}
        íŒ¨ë°°í–ˆìŠµë‹ˆë‹¤ ã…œã…œ
        {% elif data[-1].result=="ë¬´" %}
        ë¹„ê²¼ìŠµë‹ˆë‹¤...!
        {% endif %}
    </div>
    <button type="button" class="btn btn-primary mybutton" id="left_button">ìŠ¹ : {{record['win']}}</button>
    <button type="button" class="btn btn-danger mybutton">íŒ¨ : {{record['lose']}}</button>
    <button type="button" class="btn btn-warning mybutton" id="right_button">ë¬´ : {{record['tie']}}</button>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">ì‚¬ìš©ì</th>
                <th scope="col">ì»´í“¨í„°</th>
                <th scope="col">ê²°ê³¼</th>
            </tr>
        </thead>
        <tbody>
            <!-- ì—¬ê¸° trì€ 1ì¤„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ë°ì´í„°ë¥¼ ë°˜ë³µí•´ì„œ ë³´ì—¬ì¤˜ì•¼ í•˜ë‹ˆê¹Œ ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•´ì•¼ê² ì£ ? -->
            {% for element in data %}
            <tr>
                <td>{{ element.id|e }}</td>
                <td>{% if element.user_result=="ê°€ìœ„" %}
                    âœŒï¸
                    {% elif element.user_result=="ë°”ìœ„" %}
                    ğŸ‘Š
                    {% elif element.user_result=="ë³´" %}
                    âœ‹
                    {% endif %}</td>
                <td>{% if element.computer_result=="ê°€ìœ„" %}
                    âœŒï¸
                    {% elif element.computer_result=="ë°”ìœ„" %}
                    ğŸ‘Š
                    {% elif element.computer_result=="ë³´" %}
                    âœ‹
                    {% endif %}</td>
                <td>{{ element.result|e }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
    <script>
        document.getElementById("gameForm").addEventListener("submit", function (event) {
            event.preventDefault(); // í¼ ì œì¶œ ë°©ì§€
            submitForm();
        });

        function submitForm() {
            var form = document.getElementById("gameForm");
            form.submit();
        }
    </script>
</body>

</html>